

to alert a table:

--to add a new column to the table
alter table test add new VARCHAR(10);


--rename a column under a table [tbale here is test and the column was changed from word to word1]
alter table test change word word1 VARCHAR(100);


--to change the size of a column under the table
alter table exploits modify column comment VARCHAR(200);


--to insert values into a table 
insert into exploits (name, req, tags, analysis_url, src_url, comment, exploit_db, bin_url) values ('[CVE-2017-7308]', 'pkg=linux-kernel,ver>=3.2,ver<=4.10.6,CONFIG_USER_NS=y,sysctl:kernel.unprivileged_userns_clone==1', 'ubuntu=16.04(kernel:4.8.0-41)', 'https://googleprojectzero.blogspot.com/2017/05/exploiting-linux-kernel-via-packet.html', 'https://raw.githubusercontent.com/xairy/kernel-exploits/master/CVE-2017-7308/poc.c', 'CAP_NET_RAW cap or CONFIG_USER_NS=y needed. Modified version at "ext-url" adds support for additional kernels', '41994', '');


--quering 
example query
https://stackoverflow.com/questions/1636977/bash-script-select-from-database-into-variable?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
https://www.linuxquestions.org/questions/programming-9/shell-script-to-insert-value-in-database-666785/
https://www.linuxquestions.org/questions/programming-9/shell-script-to-insert-value-in-database-666785/
echo "SELECT name, req from exploits" |mysql cve_list -u root -p 
Enter password: 
name	req
[CVE-2004-1235]	pkg=linux-kernel,ver=2.4.29
[CVE-2017-7308]	pkg=linux-kernel,ver>=3.2,ver<=4.10.6,CONFIG_USER_NS=y,sysctl:kernel.unprivileged_userns_clone==1



query detail:

mysql> select * from test
    -> ;
+--------+-------+-------+
| number | word1 | new   |
+--------+-------+-------+
| cve1   | 2.4.5 | 3.9   |
| cve2   | 2.6   |       |
| cve3   | 2.0.1 | 4.9.8 |
+--------+-------+-------+
3 rows in set (0.00 sec)

mysql> select * from test where '2.6' like `word1`;
+--------+-------+------+
| number | word1 | new  |
+--------+-------+------+
| cve2   | 2.6   |      |
+--------+-------+------+
1 row in set (0.00 sec)

mysql> select * from test where '2.6' > `word1` and '2.6' < `new`;
+--------+-------+-------+
| number | word1 | new   |
+--------+-------+-------+
| cve1   | 2.4.5 | 3.9   |
| cve3   | 2.0.1 | 4.9.8 |
+--------+-------+-------+
2 rows in set (0.00 sec)

mysql> select * from test where '2.6' > `word1` and '2.6.9' < `new`;
+--------+-------+-------+
| number | word1 | new   |
+--------+-------+-------+
| cve1   | 2.4.5 | 3.9   |
| cve3   | 2.0.1 | 4.9.8 |
+--------+-------+-------+
2 rows in set (0.00 sec)

mysql> select * from test where '2.6' like `word1`;
+--------+-------+------+
| number | word1 | new  |
+--------+-------+------+
| cve2   | 2.6   |      |
+--------+-------+------+
1 row in set (0.00 sec)

mysql> select * from test where `word1` like '2.6';
+--------+-------+------+
| number | word1 | new  |
+--------+-------+------+
| cve2   | 2.6   |      |
+--------+-------+------+
1 row in set (0.01 sec)

clen@clen-X550LD:~/git/linux-exploit-suggester$ var3=1.9; var4=4.2; var5=$(mysql -u root -p -e "use cve_list; select * from test where word1 > '$var3' and new < '$var4'";); echo $var5;
Enter password: 
number word1 new cve1 2.4.5 3.9 cve2 2.6

clen@clen-X550LD:~/git/linux-exploit-suggester$ mapfile result < <(cat test)
clen@clen-X550LD:~/git/linux-exploit-suggester$ 
clen@clen-X550LD:~/git/linux-exploit-suggester$ 
clen@clen-X550LD:~/git/linux-exploit-suggester$ echo $result
1
clen@clen-X550LD:~/git/linux-exploit-suggester$ 
clen@clen-X550LD:~/git/linux-exploit-suggester$ 
clen@clen-X550LD:~/git/linux-exploit-suggester$ 
clen@clen-X550LD:~/git/linux-exploit-suggester$ for i in ${result[@]};do echo $i;done
1
2
clen@clen-X550LD:~/git/linux-exploit-suggester$ nano test
clen@clen-X550LD:~/git/linux-exploit-suggester$ mapfile result < <(cat test)
clen@clen-X550LD:~/git/linux-exploit-suggester$ for i in ${result[@]};do echo $i;done
2
1

